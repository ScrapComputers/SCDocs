"use strict";(self.webpackChunkscrap_computers_docs=self.webpackChunkscrap_computers_docs||[]).push([[7083],{5648:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"Addon API/user-data/computer-filesystem","title":"Computer.Filesystem","description":"The virtual filesystem component","source":"@site/docs/Addon API/user-data/computer-filesystem.md","sourceDirName":"Addon API/user-data","slug":"/Addon API/user-data/computer-filesystem","permalink":"/docs/Addon API/user-data/computer-filesystem","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Computer.Filesystem","description":"The virtual filesystem component"},"sidebar":"sidebar","previous":{"title":"BitStream","permalink":"/docs/Addon API/user-data/bitstream"},"next":{"title":"FancyInfoLogger","permalink":"/docs/Addon API/user-data/fancyinfologger"}}');var t=s(4848),i=s(8453);const l={title:"Computer.Filesystem",description:"The virtual filesystem component"},d=void 0,c={},a=[{value:"Functions",id:"functions",level:2},{value:"getRawContents",id:"getrawcontents",level:3},{value:"setCurrentPath",id:"setcurrentpath",level:3},{value:"getCurrentPath",id:"getcurrentpath",level:3},{value:"resetCurrentPath",id:"resetcurrentpath",level:3},{value:"list",id:"list",level:3},{value:"readFile",id:"readfile",level:3},{value:"createFile",id:"createfile",level:3},{value:"createDirectory",id:"createdirectory",level:3},{value:"delete",id:"delete",level:3},{value:"rename",id:"rename",level:3},{value:"exists",id:"exists",level:3},{value:"isDirectory",id:"isdirectory",level:3},{value:"isFile",id:"isfile",level:3},{value:"writeToFile",id:"writetofile",level:3},{value:"resolve",id:"resolve",level:3},{value:"<del>enableEncryption</del>",id:"enableencryption",level:3},{value:"<del>disableEncryption</del>",id:"disableencryption",level:3},{value:"enterEncryptionPassword",id:"enterencryptionpassword",level:3}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",del:"del",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Allows you to create and manage an in-memory directory and file structure similar to a UNIX filesystem.",(0,t.jsx)(n.br,{}),"\n","Supports file creation, deletion, renaming, reading/writing, path resolution, and optional encryption."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"getrawcontents",children:"getRawContents"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:getRawContents()\n"})}),"\n",(0,t.jsx)(n.p,{children:"Gets the raw contents table of the filesystem."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:"table"})," ] The directory tree."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"setcurrentpath",children:"setCurrentPath"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:setCurrentPath(path)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Sets the current working directory."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The new path."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"getcurrentpath",children:"getCurrentPath"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:getCurrentPath()\n"})}),"\n",(0,t.jsx)(n.p,{children:"Gets the current working directory."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:"string"})," ] The current path."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"resetcurrentpath",children:"resetCurrentPath"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:resetCurrentPath()\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Resets the working directory to ",(0,t.jsx)(n.code,{children:"/"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"list",children:"list"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:list( path )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Lists directories and files within a folder."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The directory to inspect."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:'table<string, "directory"|"file">'})," ]  A list of entries in alphabetical order."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"readfile",children:"readFile"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:readFile( path )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Reads the contents of a file."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [",(0,t.jsx)(n.strong,{children:"string"})," ] The file to read."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:"string"})," ] File contents."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"createfile",children:"createFile"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:createFile( path, content )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Creates a new file with encoded content."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] Destination path."]}),"\n",(0,t.jsxs)(n.li,{children:["content [ ",(0,t.jsx)(n.strong,{children:"string"})," ] File contents."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"createdirectory",children:"createDirectory"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:createDirectory( path )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Creates a new directory at the given path."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The path to create the directory"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"delete",children:"delete"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:delete( path )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Deletes a file or directory."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The file or directory to delete"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"rename",children:"rename"}),"\n",(0,t.jsxs)(n.p,{children:["'Filesystem",":rename","(oldPath, newPath)'"]}),"\n",(0,t.jsx)(n.p,{children:"Renames or moves a file/directory."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["oldPath [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The old path."]}),"\n",(0,t.jsxs)(n.li,{children:["newPath [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The new path."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"exists",children:"exists"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:exists( path )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Checks whether a path exists."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The path to check"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:"boolean"})," ] Wether the file/directory exists or not"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"isdirectory",children:"isDirectory"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:isDirectory( path )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Checks if a path refers to a directory."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The path to check"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:"boolean"})," ] If it is a directory or not."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"isfile",children:"isFile"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:isFile( path )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Checks if a path refers to a file."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The path to check"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:"boolean"})," ] If its a file or not."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"writetofile",children:"writeToFile"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:writeToFile( path, data, createIfNotExists )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Writes data into a file. Automatically creates missing directories and the file unless disabled."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The path to write the file to."]}),"\n",(0,t.jsxs)(n.li,{children:["data [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The data to write to that file."]}),"\n",(0,t.jsxs)(n.li,{children:["createIfNotExists [ ",(0,t.jsx)(n.strong,{children:"boolean?"})," ] Create the file if it doesn't exist. Defaults to true"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"resolve",children:"resolve"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:resolve( path )\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Resolves a relative path into an absolute path. ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"Note that this depends on the current path!"})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["path [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The path to resolve."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:"string"})," ] The normalized ",(0,t.jsx)(n.code,{children:"/path/to/file"})," form."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"enableencryption",children:(0,t.jsx)(n.del,{children:"enableEncryption"})}),"\n",(0,t.jsxs)(n.admonition,{title:"This will BREAK the computer!",type:"warning",children:[(0,t.jsx)(n.p,{children:"Due to the team wanting this update to be finished ASAP and that i (VeraDev) wasen't bothered enough to fix this, toggling encryption via this will NOT notify the computer causing unexpected behaviour!"}),(0,t.jsx)(n.p,{children:"However hopefully in the Post-V3 update, we can fix this. (This is not a promise however)"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:enableEncryption( password )\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"Passwords should be kept safe!",type:"danger",children:(0,t.jsxs)(n.p,{children:["If you need to use this function where the user can access it, ",(0,t.jsx)(n.strong,{children:"PLEASE"})," ask them to retype their password twice as theres no recovery option if you forget your password!"]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.del,{children:["Encrypts all filesystem contents using the provided password. You do not have to call ",(0,t.jsxs)(n.a,{href:"#enterencryptionpassword",children:["Filesystem",":enterEncryptionPassword"]})," if you are encrypting the filesystem."]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["password [  ",(0,t.jsx)(n.strong,{children:"string"})," ] The password to encrypt the comptuer with"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"disableencryption",children:(0,t.jsx)(n.del,{children:"disableEncryption"})}),"\n",(0,t.jsxs)(n.admonition,{title:"This will BREAK the computer!",type:"warning",children:[(0,t.jsx)(n.p,{children:"Due to the team wanting this update to be finished ASAP and that i (VeraDev) wasen't bothered enough to fix this, toggling encryption via this will NOT notify the computer causing unexpected behaviour!"}),(0,t.jsx)(n.p,{children:"However hopefully in the Post-V3 update, we can fix this. (This is not a promise however)"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:disableEncryption()\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.del,{children:"Decrypts all contents and disables encryption."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"enterencryptionpassword",children:"enterEncryptionPassword"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"Filesystem:enterEncryptionPassword( password )\n"})}),"\n",(0,t.jsx)(n.p,{children:"Tests if a given password can decrypt existing encrypted contents. Required for reading/writing to the filesystem"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["password [ ",(0,t.jsx)(n.strong,{children:"string"})," ] The password to try entering."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["[ ",(0,t.jsx)(n.strong,{children:"boolean"})," ] ",(0,t.jsx)(n.code,{children:"true"})," if valid, otherwise ",(0,t.jsx)(n.code,{children:"false"})," (Note that the computer automaticly decrypts itself if true)"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var r=s(6540);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);